#:import utils kivy.utils

<ConnectPage>:
	canvas.before:
		Color:
			rgb: utils.get_color_from_hex('#def4f0')
		Rectangle:
			pos: self.pos
			size: self.size

<BittyWidget>:
	canvas:

		Color:
			rgba: 1,1,1,root.transparent
		
		Rectangle:
			size: self.size[0]/3, self.size[1]/3
			pos: self.pos[0] + self.size[0]/3, self.pos[1] + self.size[1]/6
			source: 'Images/torsos/' + root.bitty_body_dict['torsos'][root.bitty_body_indices['torsos']]

		Rectangle:
			size: self.size[0]/3, self.size[1]/3
			pos: self.pos[0] + self.size[0]/3, self.pos[1] + (self.size[1]/48) * 23
			source: 'Images/heads/' + root.bitty_body_dict['heads'][root.bitty_body_indices['heads']]

		Rectangle:
			size: self.size[0]/3, self.size[1]/3
			pos: self.pos[0] + (self.size[0]/12) * 3, self.pos[1] - self.size[1]/24
			source: 'Images/feet/' + root.bitty_body_dict['feet'][root.bitty_body_indices['feet']]

		Rectangle:
			size: self.size[0]/3, self.size[1]/3
			pos: self.pos[0] + (self.size[0]/12) * 5, self.pos[1] - self.size[1]/24
			source: 'Images/feet/' + root.bitty_body_dict['feet'][root.bitty_body_indices['feet']]

		Rectangle:
			size: self.size[0]/3, self.size[1]/3
			pos: self.pos[0] + (self.size[0]/12), self.pos[1] + self.size[1]/6
			source: 'Images/hands/' + root.bitty_body_dict['hands'][root.bitty_body_indices['hands']]

		Rectangle:
			size: self.size[0]/3, self.size[1]/3
			pos: self.pos[0] + (self.size[0]/12)*7, self.pos[1] + self.size[1]/6
			source: 'Images/hands/' + root.bitty_body_dict['hands'][root.bitty_body_indices['hands']]

		Rectangle:
			size: self.size[0]/3, self.size[1]/3
			pos: self.pos[0] + self.size[0]/3, self.pos[1] + (self.size[1]/48) * 23
			source: 'Images/faces/' + root.bitty_body_dict['faces'][root.bitty_body_indices['faces']]

		Rectangle:
			size: self.size[0]/3, self.size[1]/3
			pos: self.pos[0] + (self.size[0]/3), self.pos[1] + self.size[1]/2
			source: 'Images/hair/' + root.bitty_body_dict['hair'][root.bitty_body_indices['hair']]

<GamePage>:

	my_bitty_widget: MyBitty
	other_bitty_widget: OtherBitty
	other_bitty_input: InputBar

	canvas:
		Color:
			rgb: utils.get_color_from_hex('#def4f0')
		Rectangle:
			pos: 0,0
			size: root.size
		Color:
			rgba: 0,0,0,1
		Rectangle:
			pos: root.width/2 - 3, 0
			size: 6, root.height

	Label:
		color: utils.get_color_from_hex('#9a1f40')
		font_size: 30
		center_x: root.width / 4
		top: root.top - 20
		text: "My Bitty"

	Label:
		color: utils.get_color_from_hex('#9a1f40')
		font_size: 30
		center_x: (root.width / 4) * 3
		top: root.top - 20
		text: root.friendstring

	BittyWidget:
		id: MyBitty
		size: root.size[1] - 200, root.size[1] - 200
		x: root.width/4 - self.size[0]/2
		y: root.height/2 - self.size[1]/2

	BittyWidget:
		id: OtherBitty
		size: root.size[1] - 200, root.size[1] - 200
		x: (root.width/4) * 3 - self.size[0]/2
		y: root.height/2 - self.size[1]/2

	Label:
		color: utils.get_color_from_hex('#9a1f40')
		font_size: 18
		center_x: (root.width / 4) * 3
		y: 30
		text: "Type a friend's username"

	TextInput:
		id: InputBar
		multiline: False
		size_hint: (None, None)
		width: 250
		height: 30
		center_x: (root.width / 4) * 3
		y: 20
		on_text_validate: root.fetch_other_bitty()
		on_focus: root.clear_text_input()

	Button:
		background_normal: ''
		background_color: utils.get_color_from_hex('#d9455f')
		size: root.size[0]/8 - 5,100
		pos: 0,0
		on_press: root.changeIndex('torsos')
		text: 'torso'

	Button:
		background_normal: ''
		background_color: utils.get_color_from_hex('#d9455f')
		size: root.size[0]/8 - 5,100
		pos: root.size[0]/8,0
		text: 'face'
		on_press: root.changeIndex('faces')

	Button:
		background_normal: ''
		background_color: utils.get_color_from_hex('#d9455f')
		size: root.size[0]/8 - 5,100
		pos: root.size[0]/4,0
		text: 'hair'
		on_press: root.changeIndex('hair')

	Button:
		background_normal: ''
		background_color: utils.get_color_from_hex('#d9455f')
		size: root.size[0]/8 - 5,100
		pos: (root.size[0]/8) * 3,0
		text: 'feet'
		on_press: root.changeIndex('feet')

	Button:
		background_normal: ''
		background_color: utils.get_color_from_hex('#d9455f')
		size: 100,50
		pos: root.size[0]/2 - 100 - 5, root.size[1] - 50
		text: 'Save'
		on_press: root.saveBitty()



